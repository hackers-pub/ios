query PublicTimelineQuery($after: String) {
  publicTimeline(first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query LocalTimelineQuery($after: String) {
  publicTimeline(local: true, first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query PersonalTimelineQuery($after: String) {
  personalTimeline(first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query SearchPostQuery($query: String!) {
  searchPost(query: $query) {
    edges {
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
        }
      }
    }
  }
}

query ActorByHandleQuery($handle: String!, $after: String) {
  actorByHandle(handle: $handle, allowLocalHandle: true) {
    id
    handle
    name
    bio
    avatarUrl
    posts(first: 20, after: $after) {
      edges {
        cursor
        node {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          sharedPost {
            __typename
            id
            name
            published
            summary
            content
            url
            actor {
              id
              name
              handle
              avatarUrl
            }
            media {
              url
              thumbnailUrl
              alt
              height
              width
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
}

query ViewerQuery {
  viewer {
    id
    username
    name
    bio
    avatarUrl
    handle
  }
}

mutation LoginByUsernameMutation($username: String!, $locale: Locale!, $verifyUrl: URITemplate!) {
  loginByUsername(username: $username, locale: $locale, verifyUrl: $verifyUrl) {
    ... on LoginChallenge {
      token
    }
    ... on AccountNotFoundError {
      query
    }
  }
}

mutation CompleteLoginChallengeMutation($token: UUID!, $code: String!) {
  completeLoginChallenge(token: $token, code: $code) {
    id
    account {
      id
      username
      name
      avatarUrl
      handle
    }
  }
}

mutation CreateNoteMutation($content: Markdown!, $language: Locale!, $visibility: PostVisibility!, $replyTargetId: ID) {
  createNote(input: { content: $content, language: $language, visibility: $visibility, replyTargetId: $replyTargetId }) {
    ... on CreateNotePayload {
      note {
        id
        content
        published
      }
    }
    ... on InvalidInputError {
      inputPath
    }
    ... on NotAuthenticatedError {
      notAuthenticated
    }
  }
}

query NotificationsQuery($after: String) {
  viewer {
    id
    notifications(first: 20, after: $after) {
      edges {
        cursor
        node {
          __typename
          id
          uuid
          created
          actors(first: 5) {
            edges {
              node {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on FollowNotification {
            id
          }
          ... on MentionNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on ReplyNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on QuoteNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on ReactNotification {
            emoji
            customEmoji {
              id
              name
              imageUrl
            }
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on ShareNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
}
