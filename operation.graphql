query PublicTimelineQuery($after: String) {
  publicTimeline(first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          engagementStats {
            replies
            reactions
            shares
            quotes
          }
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query LocalTimelineQuery($after: String) {
  publicTimeline(local: true, first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          engagementStats {
            replies
            reactions
            shares
            quotes
          }
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query PersonalTimelineQuery($after: String) {
  personalTimeline(first: 20, after: $after) {
    edges {
      cursor
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          engagementStats {
            replies
            reactions
            shares
            quotes
          }
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
    }
    pageInfo {
      hasNextPage
      endCursor
    }
  }
}

query SearchPostQuery($query: String!) {
  searchPost(query: $query) {
    edges {
      node {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        sharedPost {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          engagementStats {
            replies
            reactions
            shares
            quotes
          }
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
    }
  }
}

query SearchObjectQuery($query: String!) {
  searchObject(query: $query) {
    ... on SearchedObject {
      url
    }
    ... on EmptySearchQueryError {
      message
    }
  }
}

query ActorByHandleQuery($handle: String!, $after: String) {
  actorByHandle(handle: $handle, allowLocalHandle: true) {
    id
    handle
    name
    bio
    avatarUrl
    posts(first: 20, after: $after) {
      edges {
        cursor
        node {
          __typename
          id
          name
          published
          summary
          content
          url
          actor {
            id
            name
            handle
            avatarUrl
          }
          media {
            url
            thumbnailUrl
            alt
            height
            width
          }
          sharedPost {
            __typename
            id
            name
            published
            summary
            content
            url
            actor {
              id
              name
              handle
              avatarUrl
            }
            media {
              url
              thumbnailUrl
              alt
              height
              width
            }
            engagementStats {
              replies
              reactions
              shares
              quotes
            }
          }
          engagementStats {
            replies
            reactions
            shares
            quotes
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
}

query ViewerQuery {
  viewer {
    id
    username
    name
    bio
    avatarUrl
    handle
  }
}

mutation LoginByUsernameMutation($username: String!, $locale: Locale!, $verifyUrl: URITemplate!) {
  loginByUsername(username: $username, locale: $locale, verifyUrl: $verifyUrl) {
    ... on LoginChallenge {
      token
    }
    ... on AccountNotFoundError {
      query
    }
  }
}

mutation CompleteLoginChallengeMutation($token: UUID!, $code: String!) {
  completeLoginChallenge(token: $token, code: $code) {
    id
    account {
      id
      username
      name
      avatarUrl
      handle
    }
  }
}

mutation CreateNoteMutation($content: Markdown!, $language: Locale!, $visibility: PostVisibility!, $replyTargetId: ID) {
  createNote(input: { content: $content, language: $language, visibility: $visibility, replyTargetId: $replyTargetId }) {
    ... on CreateNotePayload {
      note {
        id
        content
        published
      }
    }
    ... on InvalidInputError {
      inputPath
    }
    ... on NotAuthenticatedError {
      notAuthenticated
    }
  }
}

mutation RevokeSessionMutation($sessionId: UUID!) {
  revokeSession(sessionId: $sessionId) {
    id
  }
}

query NotificationsQuery($after: String) {
  viewer {
    id
    notifications(first: 20, after: $after) {
      edges {
        cursor
        node {
          __typename
          id
          uuid
          created
          actors(first: 5) {
            edges {
              node {
                id
                name
                handle
                avatarUrl
              }
            }
          }
          ... on FollowNotification {
            id
          }
          ... on MentionNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
          }
          ... on ReplyNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
          }
          ... on QuoteNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
          }
          ... on ReactNotification {
            emoji
            customEmoji {
              id
              name
              imageUrl
            }
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
          }
          ... on ShareNotification {
            post {
              __typename
              id
              name
              published
              summary
              content
              url
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              actor {
                id
                name
                handle
                avatarUrl
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
          }
        }
      }
      pageInfo {
        hasNextPage
        endCursor
      }
    }
  }
}

query PostDetailQuery($id: ID!, $repliesAfter: String) {
  node(id: $id) {
    ... on Post {
      __typename
      id
      name
      published
      summary
      content
      url
      visibility
      actor {
        id
        name
        handle
        avatarUrl
      }
      media {
        url
        thumbnailUrl
        alt
        height
        width
      }
      replyTarget {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
      sharedPost {
        __typename
        id
        name
        published
        summary
        content
        url
        actor {
          id
          name
          handle
          avatarUrl
        }
        media {
          url
          thumbnailUrl
          alt
          height
          width
        }
        engagementStats {
          replies
          reactions
          shares
          quotes
        }
      }
      engagementStats {
        replies
        reactions
        shares
        quotes
      }
      reactionGroups {
        __typename
        ... on EmojiReactionGroup {
          emoji
          reactors(first: 20) {
            edges {
              node {
                id
                name
                handle
                avatarUrl
              }
            }
            pageInfo {
              hasNextPage
              endCursor
            }
            totalCount
          }
        }
        ... on CustomEmojiReactionGroup {
          customEmoji {
            id
            name
            imageUrl
          }
          reactors(first: 20) {
            edges {
              node {
                id
                name
                handle
                avatarUrl
              }
            }
            pageInfo {
              hasNextPage
              endCursor
            }
            totalCount
          }
        }
      }
      replies(first: 20, after: $repliesAfter) {
        edges {
          cursor
          node {
            __typename
            id
            name
            published
            summary
            content
            url
            actor {
              id
              name
              handle
              avatarUrl
            }
            media {
              url
              thumbnailUrl
              alt
              height
              width
            }
            sharedPost {
              __typename
              id
              name
              published
              summary
              content
              url
              actor {
                id
                name
                handle
                avatarUrl
              }
              media {
                url
                thumbnailUrl
                alt
                height
                width
              }
              engagementStats {
                replies
                reactions
                shares
                quotes
              }
            }
            engagementStats {
              replies
              reactions
              shares
              quotes
            }
          }
        }
        pageInfo {
          hasNextPage
          endCursor
        }
      }
    }
  }
}
